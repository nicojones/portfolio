"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[86],{2399:(b,u,o)=>{o.d(u,{$:()=>M});var a=o(7241),g=o(5955);const{isArray:t}=Array;var P=o(9018),j=o(8499),C=o(6651);function M(...c){const f=(0,C.jO)(c),i=function h(c){return 1===c.length&&t(c[0])?c[0]:c}(c);return i.length?new a.y(l=>{let s=i.map(()=>[]),d=i.map(()=>!1);l.add(()=>{s=d=null});for(let m=0;!l.closed&&m<i.length;m++)(0,g.Xf)(i[m]).subscribe((0,j.x)(l,x=>{if(s[m].push(x),s.every(v=>v.length)){const v=s.map(O=>O.shift());l.next(f?f(...v):v),s.some((O,L)=>!O.length&&d[L])&&l.complete()}},()=>{d[m]=!0,!s[m].length&&l.complete()}));return()=>{s=d=null}}):P.E}},9086:(b,u,o)=>{o.r(u),o.d(u,{ProjectsModule:()=>D});var a=o(5759),g=o(6533),t=o(4537),h=o(3738);let P=(()=>{class n{constructor(e){this.firebaseApi=e}resolve(e){return this.firebaseApi.getProjects(e.parent.data.page,e.parent.data.article)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.R))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),j=(()=>{class n{constructor(e){this.firebaseApi=e}resolve(e){const r=e.paramMap.get("projectUrl");return this.firebaseApi.fetchProject(e.parent.data.article,r)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h.R))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();var C=o(1540),M=o(6382),c=o(136),f=o(5774),i=o(5743),l=o(900),s=o(5998),d=o(131),m=o(7466);const x=["appRow"];let v=(()=>{class n{constructor(e,r,y,A){this.route=e,this.router=r,this.sanitizer=y,this.window=A,this.routingData=this.route.parent.snapshot.data,this.RouteUrls=M.M,this.client=(0,c.$o)().getItem("co"),this.percentage=0,this.project=this.route.snapshot.data.project,this.project||this.router.navigateByUrl("404",{skipLocationChange:!0}),document.body.style.backgroundColor=this.project.bgColor,(0,i.cn)(this.project.textColor,document.body),(0,i.cn)("project-view",document.body),l.z.projectSlideIn=!1,console.log(this.route.parent.snapshot.data)}ngOnDestroy(){document.body.style.backgroundColor=null,(0,i.IV)(this.project.textColor,document.body),(0,i.IV)("project-view",document.body)}safeHTML(e){return e._sanitized=this.sanitizer.bypassSecurityTrustHtml(e.content)}onWindowScroll(){this.percentage=this.window.scrollY/(document.body.scrollHeight-this.window.innerHeight)*100}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz),t.Y36(g.F0),t.Y36(s.H7),t.Y36("Window"))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-project"]],viewQuery:function(e,r){if(1&e&&t.Gf(x,7),2&e){let y;t.iGM(y=t.CRH())&&(r.appRow=y.first)}},hostBindings:function(e,r){1&e&&t.NdJ("scroll",function(){return r.onWindowScroll()},!1,t.Jf7)},decls:16,vars:16,consts:[["id","progress-bar"],["id","progress-percent",3,"className"],[1,"app-row"],["appRow",""],[3,"url"],[3,"innerHTML"],[1,"subtitle",3,"innerHTML"],["target","_blank",1,"project-link","subtitle",3,"href"],["src","/assets/icons/external.svg","alt","Open in new tab",1,"external"],[1,"text"],["data-loading","Loading...",1,"project-main-image","right","slide-in",3,"bgImage"],[1,"project-content",3,"innerHTML"],[1,"slide-in"],[1,"back-button","no-deco","slide-in",3,"routerLink"]],template:function(e,r){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA(),t.TgZ(2,"div",2,3)(4,"app-back-title",4),t._UZ(5,"span",5)(6,"span",6),t.TgZ(7,"a",7),t._uU(8),t._UZ(9,"img",8),t.qZA()(),t.TgZ(10,"div",9),t._UZ(11,"div",10)(12,"div",11)(13,"hr",12),t.TgZ(14,"a",13),t._uU(15,"go back"),t.qZA()()()),2&e&&(t.xp6(1),t.Udp("width",r.percentage,"%"),t.Q6J("className",r.project.textColor),t.xp6(1),t.ekj("mobile",r.client.isMobile),t.Q6J("@slideIn",void 0),t.xp6(2),t.Q6J("url",r.routingData.path),t.xp6(1),t.Q6J("innerHTML",r.project.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",r.project.summary,t.oJD),t.xp6(1),t.Q6J("href",r.project.link,t.LSH),t.xp6(1),t.hij(" ",r.project.link," "),t.xp6(3),t.Q6J("bgImage",r.project.image),t.xp6(1),t.Q6J("innerHTML",r.project._sanitized||r.safeHTML(r.project),t.oJD),t.xp6(2),t.ekj("back-title",!r.client.isMobile),t.Q6J("routerLink","/"+r.routingData.path))},dependencies:[g.yS,d.t,m.w],styles:["[_nghost-%COMP%]     .center.project-iframe{max-height:initial}@media (min-width: 1200px){[_nghost-%COMP%]     .center.project-iframe{min-width:1100px;max-width:100vw;margin-left:-225px}}[_nghost-%COMP%]     .project-main-image{background-position:center;background-size:cover;display:flex;justify-content:center;overflow:hidden;margin:0 auto;max-width:100vw;height:50vh;position:relative;width:1000px}[_nghost-%COMP%]     .project-main-image.loading:before{opacity:.8}[_nghost-%COMP%]     .project-main-image:before{transition:.4s all;opacity:0;content:attr(data-loading);position:absolute;width:100%;height:100%;color:#ddd;background:#ccc;font-size:100px;text-align:center;line-height:50vh}[_nghost-%COMP%]     .project-link{transition:.4s all}[_nghost-%COMP%]     .project-link:hover{margin-left:20px}[_nghost-%COMP%]     .external{top:5px;position:relative;opacity:.3;height:20px;margin-left:20px}[_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]{font-size:30px;text-align:center;display:block;margin-top:30px;margin-bottom:3rem;position:relative}[_nghost-%COMP%]   .back-button[_ngcontent-%COMP%]:before{height:30px;background-size:30px}[_nghost-%COMP%]     .project-iframe{width:100%;height:400px;border:none}[_nghost-%COMP%]     .project-iframe+*{display:none}[_nghost-%COMP%]   .mobile[_ngcontent-%COMP%]     .project-iframe{display:none}[_nghost-%COMP%]   .mobile[_ngcontent-%COMP%]     .project-iframe+*{display:inline-block}#progress-bar[_ngcontent-%COMP%]{width:100%;top:0;z-index:10;position:fixed;background:transparent;height:3px;transition:.4s all}#progress-bar[_ngcontent-%COMP%]   #progress-percent[_ngcontent-%COMP%]{box-shadow:0 0 8px #333;height:3px;display:inline-block;position:absolute}#progress-bar[_ngcontent-%COMP%]   #progress-percent.white[_ngcontent-%COMP%]{background:#fff}#progress-bar[_ngcontent-%COMP%]   #progress-percent.black[_ngcontent-%COMP%]{background:#050505}"],data:{animation:[(0,f.Y)()]}}),n})();var O=o(8692);function L(n,p){if(1&n&&(t.TgZ(0,"a",3)(1,"div",4),t._UZ(2,"h2",5)(3,"small",6),t.qZA(),t.TgZ(4,"div",7),t._UZ(5,"div",8),t.qZA()()),2&n){const e=p.$implicit,r=t.oxw();t.Q6J("routerLink","/"+r.routingData.path+"/"+e.url),t.xp6(2),t.Q6J("innerHTML",e.title,t.oJD),t.xp6(1),t.Q6J("innerHTML",e.summary,t.oJD),t.xp6(2),t.Akn("background-image: url("+e.image+")")}}let T=(()=>{class n{constructor(e){this.route=e,this.RouteUrls=M.M,this.routingData=this.route.snapshot.data,this.projectPage=this.route.snapshot.data.projectPage,this.projectSlideIn=l.z.projectSlideIn,console.log(this.route.snapshot.data)}ngAfterViewInit(){l.z.projectSlideIn=!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.gz))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-project-list"]],decls:5,vars:5,consts:[[3,"url"],[1,"app-row","bottom-padding"],["class","project-item text no-deco slide-in",3,"routerLink",4,"ngFor","ngForOf"],[1,"project-item","text","no-deco","slide-in",3,"routerLink"],[1,"project-item-text"],[1,"my-0","project-name",3,"innerHTML"],[1,"accent","project-summary",3,"innerHTML"],[1,"project-list-image"],[1,"project-list-bg"]],template:function(e,r){1&e&&(t.TgZ(0,"div")(1,"app-back-title",0),t._uU(2),t.qZA(),t.TgZ(3,"div",1),t.YNc(4,L,6,5,"a",2),t.qZA()()),2&e&&(t.Q6J("@slideIn",void 0)("@.disabled",!r.projectSlideIn),t.xp6(1),t.Q6J("url",r.RouteUrls.HOMEPAGE_LINK),t.xp6(1),t.Oqu(r.projectPage.title),t.xp6(2),t.Q6J("ngForOf",r.projectPage.projects))},dependencies:[g.yS,m.w,O.sg],styles:["[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]{display:inline-flex;flex-wrap:wrap;margin-bottom:4rem}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-item-text[_ngcontent-%COMP%]{flex:1 1 300px;padding:0 20px;display:flex;justify-content:center;text-align:left;flex-direction:column;transition:.4s all}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-name[_ngcontent-%COMP%]{font-size:40px}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-summary[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-list-image[_ngcontent-%COMP%]{height:250px;flex:1 1 300px;overflow:hidden}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]   .project-list-image[_ngcontent-%COMP%]   .project-list-bg[_ngcontent-%COMP%]{transition:10s all linear;background-size:cover;height:100%;background-position:center;background-repeat:no-repeat}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]:hover   .project-item-text[_ngcontent-%COMP%]{background:rgba(142,73,79,.1)}[_nghost-%COMP%]   .project-item[_ngcontent-%COMP%]:hover   .project-list-bg[_ngcontent-%COMP%]{transform:scale(1.5)}"],data:{animation:[(0,f.Y)()]},changeDetection:0}),n})(),D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[P,j],imports:[g.Bz.forChild([{path:"",resolve:{projectPage:P},children:[{path:"",component:T},{path:":projectUrl",component:v,resolve:{project:j}}]}]),a.m,C.Y]}),n})()},3738:(b,u,o)=>{o.d(u,{R:()=>M});var a=o(5598),g=o(2399),t=o(7969),h=o(985),P=o(5743),j=o(4537),C=o(4317);let M=(()=>{class c{constructor(i){this.db=i}fetchPageDocument(i){return this.db.object(`/pages/${i}`).valueChanges().pipe((0,a.q)(1))}getProjects(i,l){return(0,g.$)(this.fetchPageDocument(i),this.db.list("/articles",s=>s.orderByChild("section").equalTo(l)).valueChanges().pipe((0,a.q)(1))).pipe((0,t.U)(([s,d])=>({...s,projects:d})))}fetchProject(i,l){return this.db.list("/articles",s=>s.orderByChild("section").equalTo(i)).valueChanges().pipe((0,a.q)(1),(0,t.U)(s=>s.filter(d=>d.url===l)),(0,t.U)(P.eq))}updatePage(i,l){return(0,h.D)(this.db.object(`/pages/${i}`).update(l))}}return c.\u0275fac=function(i){return new(i||c)(j.LFG(C.KQ))},c.\u0275prov=j.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},5774:(b,u,o)=>{o.d(u,{Y:()=>g});var a=o(4091);function g(h=".slide-in"){return(0,a.X$)("slideIn",[(0,a.eR)(":enter",[(0,a.IO)(h,[(0,a.oB)({transform:"translateX(-80px)",opacity:"0"}),(0,a.EY)(400,[(0,a.ru)([(0,a.jt)("400ms ease-out",(0,a.oB)({transform:"translateX(0)"})),(0,a.jt)("400ms 100ms ease-out",(0,a.oB)({opacity:"1"}))])])],{optional:!0})])])}}}]);